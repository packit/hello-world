---
packit_instances: ["prod", "stg"]

packages:

  hello:
    downstream_package_name: hello
    upstream_package_name: hello
    paths: 
      - ./hello
    specfile_path: hello.spec
    files_to_sync: 
      - hello.spec

  world:
    downstream_package_name: world
    upstream_package_name: world
    paths: 
      - ./world
    specfile_path: world.spec
    files_to_sync: 
      - world.spec

jobs:
#- job: copr_build
#  trigger: pull_request
#  packages:
#  - hello
#  - world
#  targets:
#  - fedora-rawhide

- job: copr_build
  trigger: pull_request
  packages:
  - hello
  targets:
  - fedora-branched

#- job: copr_build
#  trigger: pull_request
#  packages:
#  - world
#  targets:
#  - fedora-stable

- job: copr_build
  trigger: release
  targets:
  - fedora-stable

- job: copr_build
  trigger: commit
  branch: main
  targets:
    - fedora-stable

- job: propose_downstream
  trigger: release
  packit_instances: ["stg"]
  dist_git_branches:
  - fedora-all
